(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{122:function(e,t,r){"use strict";r.r(t);var n=r(38),a=r.n(n),c=r(57),s="HIDE_NEXT_ARROW",i="SHOW_NEXT_ARROW",o="SHOW_PREV_ARROW",l="HIDE_PREV_ARROW",d="SET_TOTAL_CARDS",j="SET_CURRENT_CARD",u="SET_ALERT",b=function(){return{type:l,isVisible:!1}},x=function(e){return function(t){t(e>0?{type:o,isVisible:!0}:b()),t({type:j,cardNum:e}),t(S(void 0))}},p="SET_LOADING",h=function(e){return{type:p,isLoading:e}},m="GET_WEATHER",O="FILTER_CARDS_BY_DATE",g="SELECT_CARD",f="SET_ERROR",v=r(58),w=r.n(v),y=function(e){return function(t){for(var r,n=[],a=new Date,c=e.map((function(e){return new Date(e.dt_txt)})),s=c[0],i=Math.abs(s.getHours()-a.getHours()),o=0,l=1;l<c.length;l++)if(c[l].getDate()===s.getDate()){var j=Math.abs(c[l].getHours()-a.getHours());i>j&&(i=j,o=l)}else n.push(e[o]),s=c[l],i=Math.abs(s.getHours()-a.getHours()),o=l;n.push(e[o]),t((r=n.length,{type:d,totalCards:r})),t({type:O,cards:{all:n,selected:[]}})}},S=function(e){return function(t){t({type:g,selected:e})}},C=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(h(!0)),e.next=4,w.a.get("http://api.openweathermap.org/data/2.5/forecast?q=".concat("Munich,de").concat("&APPID=").concat("75f972b80e26f14fe6c920aa6a85ad57").concat("&cnt=40"));case 4:r=e.sent,t({type:m,weatherData:r.data.list}),t(b()),t({type:i,isVisible:!0}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:f,error:e.t0.message}),t({type:u,message:e.t0.message});case 14:return e.prev=14,t(h(!1)),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,10,14,17]])})));return function(t){return e.apply(this,arguments)}}()},T=r(11),E=r(162),A=r(152),D=r(0),R=r.n(D),_=r(2),H=function(e){var t=e.title,r=e.message,n=e.onClose;return Object(_.jsxs)(E.a,{severity:"error",onClose:n,children:[Object(_.jsx)(A.a,{children:t}),r]})},N=r(153),k={spinner:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},F=function(){return Object(_.jsxs)("div",{style:k.spinner,children:[Object(_.jsx)(N.a,{}),Object(_.jsx)("p",{children:"Loading..."})]})},L=r(154),V="CELSIUS",I="FAHRENHEIT",W=r(155),M=r(163),P=r(164),z=function(e){var t=e.onChange;return Object(_.jsx)(P.a,{row:!0,"aria-label":"position",name:"position",defaultValue:I,onChange:t,children:Object(_.jsxs)(L.a,{item:!0,container:!0,xs:12,children:[Object(_.jsx)(L.a,{item:!0,container:!0,xs:!1,sm:2}),Object(_.jsx)(L.a,{item:!0,container:!0,xs:8,sm:6,children:Object(_.jsx)(W.a,{value:V,control:Object(_.jsx)(M.a,{color:"primary"}),label:"Celsius",labelPlacement:"end"})}),Object(_.jsx)(L.a,{item:!0,container:!0,xs:4,sm:2,children:Object(_.jsx)(W.a,{value:I,control:Object(_.jsx)(M.a,{color:"primary"}),label:"Fahrenheit",labelPlacement:"end"})}),Object(_.jsx)(L.a,{item:!0,container:!0,xs:!1,sm:2})]})})},B=r(123),U=function(e){return(1.8*e-459.67).toFixed(0)},q=function(e){return(e-273.15).toFixed(0)},G=function(e,t){return t===V?Object(_.jsxs)(_.Fragment,{children:[q(e)," ",Object(_.jsx)("sup",{children:"\u2103"})]}):Object(_.jsxs)(_.Fragment,{children:[U(e),Object(_.jsx)("sup",{children:"\u2109"})]})},J=function(e){var t=e.weatherData,r=e.scale;return Object(_.jsxs)("div",{style:{textAlign:"center"},children:[Object(_.jsxs)(B.a,{style:{height:(t.main.temp/3).toString().concat("px"),width:"60px",backgroundColor:"aqua",maxWidth:100,margin:"auto",transition:"0.3s",boxShadow:"0 8px 40px -12px rgba(0,0,0,0.3)","&:hover":{boxShadow:"0 16px 70px -12.125px rgba(0,0,0,0.3)"}},elevation:10,children:[t.dt_txt.split(" ")[1],Object(_.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(t.weather[0].icon,"@2x.png"),alt:"weatherInfo",width:"40"}),t.weather[0].main]}),G(t.main.temp,r)]})},X=function(e){var t=e.weatherData,r=Object(T.c)((function(e){return e.scale.components}));return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(L.a,{item:!0,container:!0,justify:"center",spacing:2,direction:"row",alignItems:"flex-end",style:{marginTop:"20px"},children:t.map((function(e){return Object(_.jsx)(L.a,{item:!0,xs:3,sm:1,style:{marginLeft:15},children:Object(_.jsx)(J,{weatherData:e,scale:r})},e.dt)}))})})},Y=r(6),K=r(64),Q=r.n(K),Z={fontSize:70,color:"blue"},$=function(e){var t=e.className,r=e.style,n=e.onClick,a=e.customStyle,c=e.isVisible;return Object(_.jsx)(_.Fragment,{children:c&&Object(_.jsx)(Q.a,{className:t,style:Object(Y.a)(Object(Y.a)(Object(Y.a)({},r),Z),a),onClick:n})})},ee=r(65),te=r.n(ee),re=r(161),ne=r(157),ae=r(160),ce=r(159),se=r(158),ie=r(66),oe=r.n(ie),le=r(70),de=r(156),je=Object(de.a)({root:{margin:"10px",padding:"10px"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},media:{paddingTop:"46.25%"}}),ue=function(e){var t=e.info,r=e.scale,n=e.onCardSelection,a=je();return Object(_.jsxs)(ne.a,{className:a.root,onClick:n,style:t.isSelected?{border:"2px solid rgb(86, 180, 239)",boxShadow:"0px 1px 3px rgba(0, 0, 0, 0.05) inset, 0px 0px 8px rgba(82, 168, 236, 0.6)"}:{},children:[Object(_.jsx)(se.a,{className:a.media,image:"http://openweathermap.org/img/wn/".concat(t.weather[0].icon,"@2x.png")}),Object(_.jsxs)(ce.a,{children:[Object(_.jsxs)(le.a,{className:a.title,color:"textSecondary",gutterBottom:!0,children:[t.weather[0].main," (",t.weather[0].description,")"]}),Object(_.jsxs)(le.a,{variant:"h3",component:"h5",align:"center",children:[G(t.main.temp,r),Object(_.jsx)("hr",{})]}),Object(_.jsxs)(le.a,{variant:"body2",align:"center",color:"secondary",children:["Feels like: ",G(t.main.feels_like,r),Object(_.jsx)("br",{}),Object(_.jsxs)("span",{children:["Wind ",t.wind.speed," m/s"]})]})]}),Object(_.jsxs)(ae.a,{children:[Object(_.jsxs)(re.a,{size:"small",children:[Object(_.jsx)(oe.a,{color:"primary"})," ",t.main.humidity,"%"]}),Object(_.jsx)(re.a,{size:"large",style:{flex:1},children:new Date(t.dt_txt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})},be=function(e,t,r){return{infinite:!1,speed:300,slidesToShow:3,slidesToScroll:1,swipeToSlide:!0,focusOnSelect:!1,nextArrow:Object(_.jsx)($,{customStyle:{top:"-80px",right:"25%",transform:"rotate(360deg)"},isVisible:t,id:"nextArrow"}),prevArrow:Object(_.jsx)($,{customStyle:{top:"-83px",left:"18%",transform:"rotate(180deg)"},isVisible:r,id:"prevArrow"}),afterChange:function(t){return e(x(t))},responsive:[{breakpoint:1365,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:1023,settings:{slidesToShow:1,slidesToScroll:1}}]}},xe=function(e){var t=e.weatherData,r=Object(T.b)(),n=Object(T.c)((function(e){return e.common.arrowControls})),a=Object(T.c)((function(e){return e.scale.components}));return Object(_.jsx)(_.Fragment,{children:n&&Object(_.jsx)(te.a,Object(Y.a)(Object(Y.a)({},be(r,n.nextArrow,n.prevArrow)),{},{children:t.map((function(e){return Object(_.jsx)("div",{children:Object(_.jsx)(ue,{info:e,scale:a,onCardSelection:function(){r(S(e))}})},e.dt)}))}))})},pe="SET_SCALE",he=function(){var e,t=Object(T.b)(),r=Object(T.c)((function(e){return e.weather.reducer}));Object(D.useEffect)((function(){var e;(null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.length)&&t(y(r.data))}),[t,r.data]);return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)(L.a,{container:!0,justify:"center",direction:"row",children:[Object(_.jsx)(L.a,{item:!0,xs:!1,sm:2}),Object(_.jsxs)(L.a,{item:!0,container:!0,xs:12,sm:8,direction:"column",spacing:10,style:{marginTop:"10px"},children:[Object(_.jsx)(L.a,{item:!0,xs:12,children:(null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.length)&&Object(_.jsx)(z,{onChange:function(e){var r;t((r=e.target.value,{type:pe,scale:r}))}})}),Object(_.jsx)(L.a,{item:!0,xs:12,style:{marginTop:"30px"},children:r&&Object(_.jsx)(xe,{weatherData:r.cards.all})}),Object(_.jsx)(L.a,{item:!0,xs:12,style:{minHeight:250,marginTop:-25},children:r&&Object(_.jsx)(X,{weatherData:r.cards.selected})})]}),Object(_.jsx)(L.a,{item:!0,xs:!1,sm:2})]})})},me=function(){var e=Object(T.b)(),t=Object(T.c)((function(e){return e.common.loadingPage})),r=Object(T.c)((function(e){return e.common.alertMessage})),n=Object(T.c)((function(e){return e.weather.error}));return Object(D.useEffect)((function(){e(C())}),[e]),Object(_.jsxs)("div",{className:"App",children:[t||(null===r||void 0===r?void 0:r.message)?Object(_.jsx)(F,{}):Object(_.jsx)(he,{}),(null===r||void 0===r?void 0:r.message)&&Object(_.jsx)(H,{title:r.title,message:r.message,onClose:function(){e({type:u,message:""}),e(C())}}),n&&Object(_.jsx)(H,{title:"Error",message:n,onClose:function(){return e(function(e){return{type:f,error:e}}(""))}})]})},Oe=r(16),ge=r(14),fe={title:"Error",message:""},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(Y.a)(Object(Y.a)({},e),{},{message:t.message});default:return e}},we={prevArrow:!1,nextArrow:!0,currentCard:1,totalCards:5,totalCardsToShow:3},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:case i:return Object(Y.a)(Object(Y.a)({},e),{},{nextArrow:t.isVisible});case l:case o:return Object(Y.a)(Object(Y.a)({},e),{},{prevArrow:t.isVisible});case j:var r=t.cardNum+e.totalCardsToShow>=e.totalCards;return Object(Y.a)(Object(Y.a)({},e),{},{currentCard:t.cardNum,nextArrow:!r});case d:return Object(Y.a)(Object(Y.a)({},e),{},{totalCards:t.totalCards});default:return e}},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return t.isLoading;default:return e}},Ce=Object(ge.combineReducers)({arrowControls:ye,loadingPage:Se,alertMessage:ve}),Te=r(67),Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe:return t.scale;default:return e}},Ae=Object(ge.combineReducers)({components:Ee}),De=r(68),Re={data:[],cards:{all:[],selected:[]},error:""},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(Y.a)(Object(Y.a)({},e),{},{data:t.weatherData});case O:return Object(Y.a)(Object(Y.a)({},e),{},{cards:t.cards});case g:for(var r=e.cards.all,n=0;n<r.length;n++){var a;r[n].isSelected=!1,r[n].dt===(null===(a=t.selected)||void 0===a?void 0:a.dt)&&(r[n].isSelected=!0)}var c=e.data.filter((function(e){var r;return new Date(e.dt_txt).getDate()===new Date(null===(r=t.selected)||void 0===r?void 0:r.dt_txt).getDate()})),s=Object(Y.a)(Object(Y.a)({},e.cards),{},{selected:c});return Object(Y.a)(Object(Y.a)({},e),{},{cards:s});case f:return Object(Y.a)(Object(Y.a)({},e),{},{error:t.error});default:return e}},He=Object(ge.combineReducers)({reducer:_e}),Ne=Object(ge.combineReducers)({weather:He,common:Ce,scale:Ae}),ke=Object(ge.createStore)(Ne,Object(Te.composeWithDevTools)(Object(ge.applyMiddleware)(De.a)));Object(Oe.render)(Object(_.jsx)(R.a.StrictMode,{children:Object(_.jsx)(T.a,{store:ke,children:Object(_.jsx)(me,{})})}),document.getElementById("root"))}},[[122,1,2]]]);
//# sourceMappingURL=main.98028b8d.chunk.js.map