(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{122:function(e,t,a){"use strict";a.r(t);var r=a(39),n=a.n(r),c=a(57),s="HIDE_NEXT_ARROW",i="SHOW_NEXT_ARROW",o="SHOW_PREV_ARROW",l="HIDE_PREV_ARROW",d="SET_TOTAL_CARDS",j="SET_CURRENT_CARD",u="SET_TOTAL_CARDS_TO_SHOW",b="SET_ALERT",h=function(){return{type:l,isVisible:!1}},m=function(e){return function(t){t(e>0?{type:o,isVisible:!0}:h()),t({type:j,cardNum:e}),t(T(void 0))}},p=function(e){return{type:u,totalCardsToShow:e}},O="SET_LOADING",x=function(e){return{type:O,isLoading:e}},g="GET_WEATHER",f="FILTER_CARDS_BY_DATE",v="SELECT_CARD",w="SET_ERROR",S=a(58),y=a.n(S),C=function(e){return function(t){for(var a,r=[],n=new Date,c=e.map((function(e){return new Date(e.dt_txt)})),s=c[0],i=Math.abs(s.getHours()-n.getHours()),o=0,l=1;l<c.length;l++)if(c[l].getDate()===s.getDate()){var j=Math.abs(c[l].getHours()-n.getHours());i>j&&(i=j,o=l)}else r.push(e[o]),s=c[l],i=Math.abs(s.getHours()-n.getHours()),o=l;r.push(e[o]),t((a=r.length,{type:d,totalCards:a})),t({type:f,cards:{all:r,selected:[]}})}},T=function(e){return function(t){t({type:v,selected:e})}},E=function(){return function(){var e=Object(c.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(x(!0)),e.next=4,y.a.get("https://api.openweathermap.org/data/2.5/forecast?q=".concat("Munich,de").concat("&APPID=").concat("75f972b80e26f14fe6c920aa6a85ad57").concat("&cnt=40"));case 4:a=e.sent,t({type:g,weatherData:a.data.list}),t(h()),t({type:i,isVisible:!0}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:w,error:e.t0.message}),t({type:b,message:e.t0.message});case 14:return e.prev=14,t(x(!1)),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,10,14,17]])})));return function(t){return e.apply(this,arguments)}}()},A=a(11),_=a(162),D=a(152),R=a(0),N=a.n(R),L=a(2),H=function(e){var t=e.title,a=e.message,r=e.onClose;return Object(L.jsxs)(_.a,{severity:"error",onClose:r,children:[Object(L.jsx)(D.a,{children:t}),a]})},W=a(154),k=a(153),F=Object(k.a)({spinner:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}}),I=function(){var e=F();return Object(L.jsxs)("div",{className:e.spinner,children:[Object(L.jsx)(W.a,{}),Object(L.jsx)("p",{children:"Loading..."})]})},V=a(155),M="CELSIUS",P="FAHRENHEIT",z=a(156),B=a(163),U=a(164),q=function(e){var t=e.onChange;return Object(L.jsx)(U.a,{row:!0,"aria-label":"position",name:"position",defaultValue:P,onChange:t,children:Object(L.jsxs)(V.a,{item:!0,container:!0,xs:12,children:[Object(L.jsx)(V.a,{item:!0,container:!0,xs:!1,sm:2}),Object(L.jsx)(V.a,{item:!0,container:!0,xs:8,sm:6,children:Object(L.jsx)(z.a,{value:M,control:Object(L.jsx)(B.a,{color:"primary"}),label:"Celsius",labelPlacement:"end"})}),Object(L.jsx)(V.a,{item:!0,container:!0,xs:4,sm:2,children:Object(L.jsx)(z.a,{value:P,control:Object(L.jsx)(B.a,{color:"primary"}),label:"Fahrenheit",labelPlacement:"end"})}),Object(L.jsx)(V.a,{item:!0,container:!0,xs:!1,sm:2})]})})},G=a(123),J=function(e){return(1.8*e-459.67).toFixed(0)},X=function(e){return(e-273.15).toFixed(0)},Y=function(e,t){return t===M?Object(L.jsxs)(L.Fragment,{children:[X(e)," ",Object(L.jsx)("sup",{children:"\u2103"})]}):Object(L.jsxs)(L.Fragment,{children:[J(e),Object(L.jsx)("sup",{children:"\u2109"})]})},K=Object(k.a)({root:{textAlign:"center"},paper:{width:"60px",backgroundColor:"aqua",maxWidth:100,margin:"auto",transition:"0.3s",boxShadow:"0 8px 40px -12px rgba(0,0,0,0.3)","&:hover":{boxShadow:"0 16px 70px -12.125px rgba(0,0,0,0.3)"}},date:{fontSize:"14px"},temperature:{fontSize:"18px",fontWeight:"bold"}}),Q=function(e){var t=e.weatherData,a=e.scale,r=K();return Object(L.jsxs)("div",{className:r.root,children:[Object(L.jsxs)(G.a,{className:r.paper,style:{height:(t.main.temp/3).toString().concat("px")},elevation:10,children:[Object(L.jsx)("span",{className:r.date,children:t.dt_txt.split(" ")[1]}),Object(L.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(t.weather[0].icon,"@2x.png"),alt:"weatherInfo",width:"40"}),t.weather[0].main]}),Object(L.jsx)("span",{className:r.temperature,children:Y(t.main.temp,a)})]})},Z=Object(k.a)({root:{marginTop:"20px"},containerItem:{marginLeft:15}}),$=function(e){var t=e.weatherData,a=Object(A.c)((function(e){return e.scale.components})),r=Z();return Object(L.jsx)(L.Fragment,{children:Object(L.jsx)(V.a,{item:!0,container:!0,justify:"center",spacing:2,direction:"row",alignItems:"flex-end",className:r.root,children:t.map((function(e){return Object(L.jsx)(V.a,{item:!0,xs:3,sm:1,className:r.containerItem,children:Object(L.jsx)(Q,{weatherData:e,scale:a})},e.dt)}))})})},ee=a(6),te=a(64),ae=a.n(te),re=function(e){var t=e.className,a=e.style,r=e.onClick,n=e.customStyle,c=e.isVisible;return Object(L.jsx)(L.Fragment,{children:c&&Object(L.jsx)(ae.a,{className:t,style:Object(ee.a)(Object(ee.a)(Object(ee.a)({},a),{fontSize:70,color:"blue"}),n),onClick:r})})},ne=a(65),ce=a.n(ne),se=a(161),ie=a(157),oe=a(160),le=a(159),de=a(158),je=a(66),ue=a.n(je),be=a(70),he=Object(k.a)({root:{margin:"10px",padding:"10px"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},media:{paddingTop:"46.25%"}}),me=function(e){var t=e.info,a=e.scale,r=e.onCardSelection,n=he();return Object(L.jsxs)(ie.a,{className:n.root,onClick:r,style:t.isSelected?{border:"2px solid rgb(86, 180, 239)",boxShadow:"0px 1px 3px rgba(0, 0, 0, 0.05) inset, 0px 0px 8px rgba(82, 168, 236, 0.6)"}:{},children:[Object(L.jsx)(de.a,{className:n.media,image:"http://openweathermap.org/img/wn/".concat(t.weather[0].icon,"@2x.png")}),Object(L.jsxs)(le.a,{children:[Object(L.jsxs)(be.a,{className:n.title,color:"textSecondary",gutterBottom:!0,children:[t.weather[0].main," (",t.weather[0].description,")"]}),Object(L.jsxs)(be.a,{variant:"h3",component:"h5",align:"center",children:[Y(t.main.temp,a),Object(L.jsx)("hr",{})]}),Object(L.jsxs)(be.a,{variant:"body2",align:"center",color:"secondary",children:["Feels like: ",Y(t.main.feels_like,a),Object(L.jsx)("br",{}),Object(L.jsxs)("span",{children:["Wind ",t.wind.speed," m/s"]})]})]}),Object(L.jsxs)(oe.a,{children:[Object(L.jsxs)(se.a,{size:"small",children:[Object(L.jsx)(ue.a,{color:"primary"})," ",t.main.humidity,"%"]}),Object(L.jsx)(se.a,{size:"large",style:{flex:1},children:new Date(t.dt_txt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})},pe=function(e,t,a){return{infinite:!1,speed:300,swipeToSlide:!0,focusOnSelect:!1,adaptiveHeight:!0,nextArrow:xe(t),prevArrow:Oe(a),slidesToShow:3,slidesToScroll:1,beforeChange:function(t,a){e(p(3)),e(m(a))},responsive:[{breakpoint:600,settings:{slidesToShow:2,beforeChange:function(t,a){e(p(2)),e(m(a))}}},{breakpoint:480,settings:{slidesToShow:1,beforeChange:function(t,a){e(p(1)),e(m(a))}}}]}},Oe=function(e){return Object(L.jsx)(re,{customStyle:{top:"-83px",left:"18%",transform:"rotate(180deg)"},isVisible:e,id:"prevArrow"})},xe=function(e){return Object(L.jsx)(re,{customStyle:{top:"-80px",right:"25%",transform:"rotate(360deg)"},isVisible:e,id:"nextArrow"})},ge=function(e){var t=e.weatherData,a=Object(A.b)(),r=Object(A.c)((function(e){return e.common.arrowControls})),n=Object(A.c)((function(e){return e.scale.components}));return Object(L.jsx)(L.Fragment,{children:r&&Object(L.jsx)(ce.a,Object(ee.a)(Object(ee.a)({},pe(a,r.nextArrow,r.prevArrow)),{},{children:t.map((function(e){return Object(L.jsx)("div",{children:Object(L.jsx)(me,{info:e,scale:n,onCardSelection:function(){a(T(e))}})},e.dt)}))}))})},fe="SET_SCALE",ve=Object(k.a)({main:{marginTop:"10px"},gridWeatherCardsList:{marginTop:"30px"},gridWeatherBarChartList:{minHeight:250,marginTop:-25}}),we=function(){var e,t=Object(A.b)(),a=Object(A.c)((function(e){return e.weather.reducer})),r=ve();Object(R.useEffect)((function(){var e;(null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.length)&&t(C(a.data))}),[t,a.data]);return Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)(V.a,{container:!0,justify:"center",direction:"row",children:[Object(L.jsx)(V.a,{item:!0,xs:!1,sm:2}),Object(L.jsxs)(V.a,{item:!0,container:!0,xs:12,sm:8,direction:"column",spacing:10,className:r.main,children:[Object(L.jsx)(V.a,{item:!0,xs:12,children:(null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.length)&&Object(L.jsx)(q,{onChange:function(e){var a;t((a=e.target.value,{type:fe,scale:a}))}})}),Object(L.jsx)(V.a,{item:!0,xs:12,className:r.gridWeatherCardsList,children:a&&Object(L.jsx)(ge,{weatherData:a.cards.all})}),Object(L.jsx)(V.a,{item:!0,xs:12,className:r.gridWeatherBarCharList,children:a&&Object(L.jsx)($,{weatherData:a.cards.selected})})]}),Object(L.jsx)(V.a,{item:!0,xs:!1,sm:2})]})})},Se=function(){var e=Object(A.b)(),t=Object(A.c)((function(e){return e.common.loadingPage})),a=Object(A.c)((function(e){return e.common.alertMessage})),r=Object(A.c)((function(e){return e.weather.error}));return Object(R.useEffect)((function(){e(E())}),[e]),Object(L.jsxs)("div",{className:"App",children:[t||(null===a||void 0===a?void 0:a.message)?Object(L.jsx)(I,{}):Object(L.jsx)(we,{}),(null===a||void 0===a?void 0:a.message)&&Object(L.jsx)(H,{title:a.title,message:a.message,onClose:function(){e({type:b,message:""}),e(E())}}),r&&Object(L.jsx)(H,{title:"Error",message:r,onClose:function(){return e(function(e){return{type:w,error:e}}(""))}})]})},ye=a(16),Ce=a(14),Te={title:"Error",message:""},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(ee.a)(Object(ee.a)({},e),{},{message:t.message});default:return e}},Ae={prevArrow:!1,nextArrow:!0,currentCard:1,totalCards:5,totalCardsToShow:3},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:case i:return Object(ee.a)(Object(ee.a)({},e),{},{nextArrow:t.isVisible});case l:case o:return Object(ee.a)(Object(ee.a)({},e),{},{prevArrow:t.isVisible});case j:var a=t.cardNum+e.totalCardsToShow>=e.totalCards;return Object(ee.a)(Object(ee.a)({},e),{},{currentCard:t.cardNum,nextArrow:!a});case d:return Object(ee.a)(Object(ee.a)({},e),{},{totalCards:t.totalCards});case u:return Object(ee.a)(Object(ee.a)({},e),{},{totalCardsToShow:t.totalCardsToShow});default:return e}},De=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return t.isLoading;default:return e}},Re=Object(Ce.combineReducers)({arrowControls:_e,loadingPage:De,alertMessage:Ee}),Ne=a(67),Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:return t.scale;default:return e}},He=Object(Ce.combineReducers)({components:Le}),We=a(68),ke={data:[],cards:{all:[],selected:[]},error:""},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(ee.a)(Object(ee.a)({},e),{},{data:t.weatherData});case f:return Object(ee.a)(Object(ee.a)({},e),{},{cards:t.cards});case v:for(var a=e.cards.all,r=0;r<a.length;r++){var n;a[r].isSelected=!1,a[r].dt===(null===(n=t.selected)||void 0===n?void 0:n.dt)&&(a[r].isSelected=!0)}var c=e.data.filter((function(e){var a;return new Date(e.dt_txt).getDate()===new Date(null===(a=t.selected)||void 0===a?void 0:a.dt_txt).getDate()})),s=Object(ee.a)(Object(ee.a)({},e.cards),{},{selected:c});return Object(ee.a)(Object(ee.a)({},e),{},{cards:s});case w:return Object(ee.a)(Object(ee.a)({},e),{},{error:t.error});default:return e}},Ie=Object(Ce.combineReducers)({reducer:Fe}),Ve=Object(Ce.combineReducers)({weather:Ie,common:Re,scale:He}),Me=Object(Ce.createStore)(Ve,Object(Ne.composeWithDevTools)(Object(Ce.applyMiddleware)(We.a)));Object(ye.render)(Object(L.jsx)(N.a.StrictMode,{children:Object(L.jsx)(A.a,{store:Me,children:Object(L.jsx)(Se,{})})}),document.getElementById("root"))}},[[122,1,2]]]);
//# sourceMappingURL=main.baa78521.chunk.js.map